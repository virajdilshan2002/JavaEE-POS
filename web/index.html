<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>POS SYSTEM</title>
    <link rel="stylesheet" href="assets/css/index.css" />
    <link rel="stylesheet" href="assets/css/home.css" />
    <link rel="stylesheet" href="assets/css/orders.css" />
    <link rel="stylesheet" href="assets/css/pages.css" />
    <link rel="stylesheet" href="assets/css/addModel.css" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css"
    />
    <!-- google fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Chakra+Petch:ital,wght@0,300;0,400;0,500;0,600;0,700;1,300;1,400;1,500;1,600;1,700&family=Turret+Road:wght@200;300;400;500;700;800&display=swap"
      rel="stylesheet"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Chakra+Petch:ital,wght@0,300;0,400;0,500;0,600;0,700;1,300;1,400;1,500;1,600;1,700&family=Turret+Road:wght@200;300;400;500;700;800&family=Zilla+Slab:ital,wght@0,300;0,400;0,500;0,600;0,700;1,300;1,400;1,500;1,600;1,700&display=swap"
      rel="stylesheet"
    />

    <!-- jquery -->
    <script src="assets/jq/jquery-3.7.1.min.js"></script>
  </head>
  <body>
    <header>
      <div class="logo-container">
        <img class="logo" src="assets/images/logo/pos.png" alt="pos-logo" />

        <div class="name">POS System</div>
        <nav>
          <ul>
            <li><button id="btn-home" class="btn-nav" >Home</button></li>
            <li><button id="btn-orders" class="btn-nav" >Orders</button></li>
            <li><button id="btn-store" class="btn-nav" >Store</button></li>
            <li>
              <button id="btn-cus" class="btn-nav">Customers</button>
            </li>
          </ul>
        </nav>
      </div>
      <div class="btn-container">
        <button class="signUp-btn">Sign Up</button>
        <button class="logOut-btn">Log Out</button>
      </div>
    </header>
    <main>
      <section id="home" class="page active">
        <div class="container">
          <div class="greet-time-container">
            <div class="greet">
              <i class="fa-solid fa-house"></i>
              Hello! <br />
              Good Morning!
            </div>
            <div class="date-time">
              <div id="currentDate" class="date"></div>
              <div id="currentTime" class="time"></div>
            </div>
          </div>
          <div class="status-container">
            <div class="banner">
              <span class="banner-title">Customers</span
              ><span class="count">0</span>
            </div>
            <div class="banner">
              <span class="banner-title">Items</span
              ><span class="count">0</span>
            </div>
            <div class="banner">
              <span class="banner-title">Orders</span
              ><span class="count">0</span>
            </div>
          </div>
          <div class="recent-orders-container">
            <table>
              <thead>
                <tr>
                  <th colspan="4">Orders</th>
                </tr>
              </thead>
              <tbody id="recentOrderTable">
                <tr>
                  <td>order</td>
                  <td>order</td>
                  <td>order</td>
                  <td>order</td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
      </section>
      <section id="orders" class="page">
        <div class="container">
          <div class="page-title-container">
            <i class="fa-solid fa-cart-shopping"></i>
            <span class="page-title">Orders</span>
          </div>

          <div class="order-form-container">
            <div id="invoiceForm" class="form">
              <div class="title">Invoice Details</div>
              <div class="form-content">
                <div class="row">
                  <div class="data">
                    <label for="orderId">Order Id:</label>
                    <input id="orderId" type="text" disabled />
                  </div>
                  <div class="data">
                    <label for="date">Date:</label>
                    <input id="date" type="text" placeholder="10/31/2024" />
                  </div>
                </div>
                <div class="row">
                  <div class="data">
                    <label for="OrderCusId">Customer Id:</label>
                    <input id="OrderCusId" type="text" placeholder="C001" />
                  </div>
                </div>
              </div>
            </div>
            <div id="selectItemForm" class="form">
              <div class="title">Item Select</div>
              <div class="form-content">
                <div class="row">
                  <div class="data">
                    <label for="itemCode">Item Code:</label>
                    <input type="text" placeholder="" />
                  </div>
                  <div class="data" style="justify-content: end">
                    <button class="search-btn">Search</button>
                  </div>
                </div>
                <div class="row">
                  <div class="data">
                    <label for="itemName">Item Name:</label>
                    <input type="text" disabled />
                  </div>
                  <div class="data">
                    <label for="price">Price:</label>
                    <input id="price" type="number" disabled />
                  </div>
                </div>
                <div class="row">
                  <div class="data">
                    <label for="availableQty">Available Qty:</label>
                    <input id="availableQty" type="number" disabled />
                  </div>
                  <div class="data">
                    <label for="orderQty">Order Qty:</label>
                    <input id="orderQty" type="number" placeholder="" />
                  </div>
                </div>
                <div class="row">
                  <button id="btn-add-item">Add Item</button>
                </div>
              </div>
            </div>
            <div id="transactionForm" class="form">
              <div class="form-content">
                <div class="row">
                  <label class="lblTotal">Total: 00.00 Rs/=</label>
                </div>
                <div class="row">
                  <button id="btn-purchase">Purchase</button>
                </div>
              </div>
            </div>
          </div>

          <div class="table-container">
            <table>
              <thead>
                <tr>
                  <th>Item Id</th>
                  <th>Unit Price</th>
                  <th>Quantity</th>
                  <th>Total</th>
                </tr>
              </thead>
              <tbody id="orderTable"></tbody>
            </table>
          </div>
        </div>
      </section>
      <section id="store" class="page">
        <div class="container">
          <div class="page-title-container">
            <i class="fa-solid fa-store"></i>
            <span class="page-title">Store</span>
          </div>
          <div class="search-options-container">
            <div class="search">
              <div class="title">Search Item</div>
              <div class="search-form">
                <input type="text" placeholder="Input Item Name/Code Here" />
                <div class="search-btn-container">
                  <select class="search-type" name="type" id="type">
                    <option value="name" selected>Item Name</option>
                    <option value="code">Item Code</option>
                  </select>
                  <button class="search-btn">Search</button>
                </div>
              </div>
            </div>
            <div class="options">
              <!-- Button to trigger the modal -->
              <button class="btn-primary" id="addNewItemBtn">New Item</button>

              <!-- Modal structure -->
              <div class="modal" id="itemModel">
                <div class="modal-dialog">
                  <div class="modal-content">
                    <div class="modal-header">
                      <h1 class="modal-title">Add New Item</h1>
                      <button class="btn-close" id="closeItemModal">
                        &times;
                      </button>
                    </div>
                    <div class="modal-body">
                      <form id="itemForm">
                        <div class="form-group">
                          <label for="itemCode">Item Code</label>
                          <input type="text" id="itemCode" disabled />
                          <label for="itemName">Item Name</label>
                          <input
                            type="text"
                            id="itemName"
                            placeholder="Enter item name"
                            required
                          />
                        </div>
                        <div class="form-group">
                          <label for="quantity">Quantity</label>
                          <input
                            type="number"
                            id="quantity"
                            placeholder="Enter quantity"
                            required
                          />
                        </div>
                        <div class="form-group">
                          <label for="unitPrice">Unit Price</label>
                          <input
                            type="number"
                            id="unitPrice"
                            placeholder="Enter unit price"
                            step="0.01"
                            min="0"
                            required
                          />
                        </div>
                      </form>
                    </div>
                    <div class="modal-footer">
                      <button class="btn-secondary" id="closeItemModalFooter">
                        Close
                      </button>
                      <button id="saveItemBtn" class="btn-primary">
                        Save changes
                      </button>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="action-container">
            <button class="action-btn red">Delete</button
            ><button class="action-btn green">Details</button
            ><button class="action-btn white">Clear</button>
          </div>
          <div class="table-container">
            <table>
              <thead>
                <tr>
                  <th>Item Code</th>
                  <th>Item Name</th>
                  <th>Quantity</th>
                  <th>Unit Price</th>
                </tr>
              </thead>
              <tbody id="itemTable"></tbody>
            </table>
          </div>
        </div>
      </section>
      <section id="customers" class="page">
        <div class="container">
          <div class="page-title-container">
            <i class="fa-solid fa-users"></i>
            <span class="page-title">Customers</span>
          </div>
          <div class="search-options-container">
            <div class="search">
              <div class="title">Search Customer</div>
              <div class="search-form">
                <input type="text" placeholder="Input Name/NIC/Phone Here" />
                <div class="search-btn-container">
                  <select class="search-type">
                    <option value="Name" selected>Name</option>
                    <option value="NIC">NIC</option>
                    <option value="Phone">Phone</option>
                  </select>
                  <button class="search-btn">Search</button>
                </div>
              </div>
            </div>
            <div class="options">
              <!-- Button to trigger the modal -->
              <button class="btn-primary" id="addNewCustomerBtn">
                New Customer
              </button>

              <!-- Modal structure -->
              <div class="modal" id="cusModel">
                <div class="modal-dialog">
                  <div class="modal-content">
                    <div class="modal-header">
                      <h1 class="modal-title">Add New Customer</h1>
                      <button class="btn-close" id="closeCusModal">
                        &times;
                      </button>
                    </div>
                    <div class="modal-body">
                      <form id="customerForm">
                        <div class="form-group">
                          <label for="customerId">Customer Id</label>
                          <input type="text" id="customerId" />
                          <label for="customerName">Name</label>
                          <input
                            type="text"
                            id="customerName"
                            placeholder="Enter customer name"
                            required
                          />
                        </div>
                        <div class="form-group">
                          <label for="customerAddress">Address</label>
                          <textarea
                            id="customerAddress"
                            placeholder="Enter customer address"
                            rows="3"
                            required
                          ></textarea>
                        </div>
                        <div class="form-group">
                          <label for="customerContact">Contact</label>
                          <input
                            type="tel"
                            id="customerContact"
                            placeholder="Enter customer contact"
                            required
                          />
                        </div>
                      </form>
                    </div>
                    <div class="modal-footer">
                      <button class="btn-secondary" id="closeCusModalFooter">
                        Close
                      </button>
                      <button id="saveCusBtn" class="btn-primary">
                        Save changes
                      </button>
                    </div>
                  </div>
                </div>
              </div>

              <button id="refreshCusTable" class="all-cus-btn">Refresh</button>
            </div>
          </div>
          <div class="action-container">
            <button class="action-btn red">Delete</button
            ><button class="action-btn green">Details</button
            ><button class="action-btn white">Clear</button>
          </div>
          <div class="table-container">
            <table>
              <thead>
                <tr>
                  <th>Id</th>
                  <th>Customer Name</th>
                  <th>Address</th>
                  <th>Phone</th>
                </tr>
              </thead>
              <tbody id="customerTable"></tbody>
            </table>
          </div>
        </div>
      </section>
    </main>
    <footer></footer>

    <script src="assets/js/navigations.js"></script>
    <script src="assets/js/time-date.js"></script>
    <script src="assets/js/dataInputModel.js"></script>

    <!--  ADD CUSTOMER-->
    <script>
          $('#saveCusBtn').on("click", function () {
              $.ajax({
                url:"http://localhost:8080/JavaEEPOS/customer",
                method:"POST",
                async:false,
                data:{
                  name:$('#customerName').val(),
                  address:$('#customerAddress').val(),
                  contact:$('#customerContact').val()
                },
                success: (res) => {
                  alert("Customer Added Successfully!")
                },
                error: (err) => {
                  console.log(err)
                }
              })
          });
    </script>
  </body>
</html>
